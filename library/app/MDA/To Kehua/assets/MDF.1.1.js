CCBlock=function(t,i,n,e){this.blockTypeIdentifier=null,this.blockSize=null,this.physicalValueRangeValid=null,this.minPhysicalSignalValue=null,this.maxPhysicalSignalValue=null,this.physicalUnit=null,this.conversionType=null,this.sizeInformation=null,this.additionalConversionData=null,this.pThisBlock=i,this.parent=e,this.initiallize(t,i,n)},CCBlock.conversionFomulas={0:function(t,i){return t*i[1]+i[0]},1:function(t,i){var n=i[0];if(n>t){var e=i[1];return e}for(var s=1;s<i.length/2;s++){var a=i[2*s];if(a>t){var r=i[2*s+1],l=i[2*s-2],o=i[2*s-1];return o+(r-o)/(a-l)*(t-l)}}var h=i[i.length-1];return h},2:function(t,i){var n=i[0];if(n>t){var e=i[1];return e}for(var s=1;s<i.length/2;s++){var a=i[2*s];if(a>t){var r=i[2*s-1];return r}}var l=i[i.length-1];return l},6:function(t,i){return(i[1]-i[3]*(t-i[4]))/(i[2]*(t-i[4])-i[0])},7:function(t,i){return 0==i[3]?Math.log(((t-i[6])*i[5]-i[2])/i[0])/i[1]:0==i[0]?Math.log((i[2]/(t-i[6])-i[5])/i[3])/i[4]:null},8:function(t,i){return 0==i[3]?Math.exp(((t-i[6])*i[5]-i[2])/i[0])/i[1]:0==i[0]?Math.exp((i[2]/(t-i[6])-i[5])/i[3])/i[4]:null},9:function(t,i){return(i[0]*t*t+i[1]*t+i[2])/(i[3]*t*t+i[4]*t+i[5])},10:function(t,i){var n=i[0];if(!/[A-WYZa-z"'`]/.test(n)&&!/X[^1]/.test(n))try{var e="return ( "+n+" )",s=new Function("X1",e),a=s(t);return a}catch(r){var l="Error Message: "+r.message+", Error Name: "+r.name;r.fileName&&(str+=", File Name: "+r.fileName),r.lineNumber&&(str+=", Line Number: "+r.lineNumber),console.log(l)}return null},11:function(t,i){for(var n,e,s=i.length/2,a=0;s>a;a++){var r=i[2*a];if(r==t)return i[2*a+1];(!n||n>=Math.abs(r-t))&&(e=i[2*a+1],n=Math.abs(r-t))}return e},12:function(t,i){return null},132:function(t,i,n){var e=t.buffer,s=0,a=new Array(6),r=2;a[0]=MDF.ab2uint16(e,s,n),s+=r;for(var l=1;l<a.length;l++)r=1,a[l]=MDF.ab2uint8(e,s),s+=r;return a},133:function(t,i,n){var e=t.buffer,s=0,a=new Array(2),r=6;return a[0]=MDF.ab2uint32(e,s,n),s+=r,r=2,a[1]=MDF.ab2uint16(e,s,n),s+=r,a},65535:function(t,i){return t}},CCBlock.prototype.initiallize=function(t,i,n){var e,s=i;e=2,this.blockTypeIdentifier=MDF.ab2str(t,s,e),s+=e,e=2,this.blockSize=MDF.ab2uint16(t,s,n),s+=e,e=2,this.physicalValueRangeValid=MDF.ab2bool(t,s,n),s+=e,e=8,this.minPhysicalSignalValue=MDF.ab2double(t,s,n),s+=e,e=8,this.maxPhysicalSignalValue=MDF.ab2double(t,s,n),s+=e,e=20,this.physicalUnit=MDF.ab2str(t,s,e),s+=e,e=2,this.conversionType=MDF.ab2uint16(t,s,n),s+=e,e=2,this.sizeInformation=MDF.ab2uint16(t,s,n),s+=e,e=this.blockSize-(s-i),this.setAdditinalConversionData(t,s,n),s+=e,this.convert=function(t){var i=this.conversionType,n=this.additionalConversionData;return 132==i||133==i?function(e){return CCBlock.conversionFomulas[i](e,n,t)}:function(t){return CCBlock.conversionFomulas[i](t,n)}}.call(this,n)},CCBlock.prototype.setAdditinalConversionData=function(t,i,n){var e=[],s=i;switch(this.conversionType){case 0:case 6:case 7:case 8:case 9:e=new Array(this.sizeInformation);for(var a=0;a<e.length;a++){var r=8;e[a]=MDF.ab2double(t,s,n),s+=r}break;case 1:case 2:e=new Array(2*this.sizeInformation);for(var a=0;a<e.length;a++){var r=8;e[a]=MDF.ab2double(t,s,n),s+=r}break;case 10:var r=256;e=[MDF.ab2str(t,s,r)],s+=r;break;case 11:e=new Array(2*this.sizeInformation);for(var a=0;a<this.sizeInformation;a++){var r=8;e[2*a]=MDF.ab2double(t,s,n),s+=r,r=32,e[2*a+1]=MDF.ab2str(t,s,r),s+=r}break;case 12:e=new Array(3*(this.sizeInformation+1));try{for(var a=0;a<this.sizeInformation+1;a++){var r=8;e[3*a]=MDF.ab2double(t,s,n),s+=r,r=8,e[3*a+1]=MDF.ab2double(t,s,n),s+=r,r=4,e[3*a+2]=MDF.ab2uint32(t,s,n),s+=r}}catch(l){var o="Error Message: "+l.message+", Error Name: "+l.name;l.fileName&&(str+=", File Name: "+l.fileName),l.lineNumber&&(str+=", Line Number: "+l.lineNumber),console.log(o)}break;case 132:break;case 133:break;case 65535:}this.additionalConversionData=e},CCBlock.prototype.convert=function(t){return null},CCBlock.prototype.convertAll=function(t){for(var i=[],n=0;n<t.length;n++)i.push(this.convert(t[n]));return i},CDBlock=function(t,i,n,e){this.blockTypeIdentifier=null,this.blockSize=null,this.dependencyType=null,this.numberOfSignalsDependencies=null,this.pDGBlocks=[],this.pCGBlocks=[],this.pCNBlocks=[],this.sizeOfDimensions=[],this.pThisBlock=i,this.parent=e,this.initiallize(t,i,n)},CDBlock.prototype.initiallize=function(t,i,n){var e,s=i;e=2,this.blockTypeIdentifier=MDF.ab2str(t,s,e),s+=e,e=2,this.blockSize=MDF.ab2uint16(t,s,n),s+=e,e=2,this.dependencyType=MDF.ab2uint16(t,s,n),s+=e,e=2,this.numberOfSignalsDependencies=MDF.ab2uint16(t,s,n),s+=e,this.pDGBlocks=new Array(this.numberOfSignalsDependencies),this.pCGBlocks=new Array(this.numberOfSignalsDependencies),this.pCNBlocks=new Array(this.numberOfSignalsDependencies);for(var a=0;a<this.numberOfSignalsDependencies;a++)e=4,this.pDGBlocks[a]=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pCGBlocks[a]=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pCNBlocks[a]=MDF.ab2uint32(t,s,n),s+=e;this.sizeOfDimensions=new Array(this.getDimension());for(var a=0;a<this.sizeOfDimensions.length;a++)e=2,this.sizeOfDimensions[a]=MDF.ab2uint16(t,s,n),s+=e},CDBlock.prototype.getDimension=function(){var t=0;switch(this.dependencyType){case 0:case 1:case 2:t=this.dependencyType;break;default:this.dependencyType>=256&&(t=this.dependencyType-256)}return t},CEBlock=function(t,i,n,e){this.blockTypeIdentifier=null,this.blockSize=null,this.extensionType=null,this.additionalFields=[],this.pThisBlock=i,this.parent=e,this.initiallize(t,i,n)},CEBlock.prototype.initiallize=function(t,i,n){var e,s=i;e=2,this.blockTypeIdentifier=MDF.ab2str(t,s,e),s+=e,e=2,this.blockSize=MDF.ab2uint16(t,s,n),s+=e,e=2,this.extensionType=MDF.ab2uint16(t,s,n),s+=e,e=this.blockSize-(s-i),this.setAdditionalFields(t,s,n),s+=e},CEBlock.prototype.setAdditionalFields=function(t,i,n){var e=[],s=i;switch(this.extensionType){case 2:e=new Array(4);var a=2;e[0]=MDF.ab2uint16(t,s,n),s+=a,a=4,e[1]=MDF.ab2uint32(t,s,n),s+=a,a=80,e[2]=MDF.ab2str(t,s,a),s+=a,a=32,e[3]=MDF.ab2str(t,s,a),s+=a;break;case 19:e=new Array(4);var a=4;e[0]=MDF.ab2uint32(t,s,n),s+=a,a=4,e[1]=MDF.ab2uint32(t,s,n),s+=a,a=36,e[2]=MDF.ab2str(t,s,a),s+=a,a=36,e[3]=MDF.ab2str(t,s,a),s+=a}this.additionalFields=e},CGBlock=function(t,i,n,e){this.blockTypeIdentifier=null,this.blockSize=null,this.pNextCGBlock=null,this.pFirstCNBlock=null,this.pComment=null,this.recordID=null,this.numberOfChannels=null,this.sizeOfDataRecord=null,this.numberOfRecords=null,this.pFirstSRBlock=null,this.pThisBlock=i,this.parent=e,this.cnBlocks=[],this.comment=null,this.srBlocks=[],this.initiallize(t,i,n)},CGBlock.prototype.initiallize=function(t,i,n){var e,s=i;e=2,this.blockTypeIdentifier=MDF.ab2str(t,s,e),s+=e,e=2,this.blockSize=MDF.ab2uint16(t,s,n),s+=e,e=4,this.pNextCGBlock=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pFirstCNBlock=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pComment=MDF.ab2uint32(t,s,n),s+=e,e=2,this.recordID=MDF.ab2uint16(t,s,n),s+=e,e=2,this.numberOfChannels=MDF.ab2uint16(t,s,n),s+=e,e=2,this.sizeOfDataRecord=MDF.ab2uint16(t,s,n),s+=e,e=4,this.numberOfRecords=MDF.ab2uint32(t,s,n),s+=e,this.blockSize>s-i&&(e=4,this.pFirstSRBlock=MDF.ab2uint32(t,s,n),s+=e),this.setCNBlocks(t,this.pFirstCNBlock,n),this.setComment(t,this.pComment,n),this.setSRBlocks(t,this.pFirstSRBlock,n)},CGBlock.prototype.setCNBlocks=function(t,i,n){for(var e=i;e;){var s=new CNBlock(t,e,n,this);this.cnBlocks.push(s),e=s.pNextCNBlock}},CGBlock.prototype.setComment=function(t,i,n){i&&(this.comment=new TXBlock(t,i,n,this))},CGBlock.prototype.setSRBlocks=function(t,i,n){for(var e=i;e;){var s=new SRBlock(t,e,n,this);this.srBlocks.push(s),e=s.pNextSRBlock}},CGBlock.prototype.indexOfTimeChannel=function(){for(var t=0;t<this.cnBlocks.length;t++){var i=this.cnBlocks[t];if(i.isTimeChannel())return t}return-1},CGBlock.prototype.timeChannel=function(){var t=this.indexOfTimeChannel();return t>=0?this.cnBlocks[t]:null},CNBlock=function(t,i,n,e){this.blockTypeIdentifier=null,this.blockSize=null,this.pNextCNBlock=null,this.pCCBlock=null,this.pCEBlock=null,this.pCDBlock=null,this.pComment=null,this.channelType=null,this.shortSignalName=null,this.signalDescription=null,this.startOffsetInBits=null,this.numberOfBits=null,this.signalDataType=null,this.valueRangeValid=null,this.minSignalValue=null,this.maxSignalValue=null,this.samplingRate=null,this.pLongSignalName=null,this.pDisplayName=null,this.additionalByteOffset=null,this.pThisBlock=i,this.parent=e,this.ccBlock=null,this.ceBlock=null,this.cdBlock=null,this.comment=null,this.rawDataArray=[],this.initiallize(t,i,n)},CNBlock.prototype.initiallize=function(t,i,n){var e,s=i;e=2,this.blockTypeIdentifier=MDF.ab2str(t,s,e),s+=e,e=2,this.blockSize=MDF.ab2uint16(t,s,n),s+=e,e=4,this.pNextCNBlock=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pCCBlock=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pCEBlock=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pCDBlock=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pComment=MDF.ab2uint32(t,s,n),s+=e,e=2,this.channelType=MDF.ab2uint16(t,s,n),s+=e,e=32,this.shortSignalName=MDF.ab2str(t,s,e),s+=e,e=128,this.signalDescription=MDF.ab2str(t,s,e),s+=e,e=2,this.startOffsetInBits=MDF.ab2uint16(t,s,n),s+=e,e=2,this.numberOfBits=MDF.ab2uint16(t,s,n),s+=e,e=2,this.signalDataType=MDF.ab2uint16(t,s,n),s+=e,e=2,this.valueRangeValid=MDF.ab2bool(t,s,n),s+=e,e=8,this.minSignalValue=MDF.ab2double(t,s,n),s+=e,e=8,this.maxSignalValue=MDF.ab2double(t,s,n),s+=e,e=8,this.samplingRate=MDF.ab2double(t,s,n),s+=e,this.blockSize>s-i&&(e=4,this.pLongSignalName=MDF.ab2uint32(t,s,n),s+=e),this.blockSize>s-i&&(e=4,this.pDisplayName=MDF.ab2uint32(t,s,n),s+=e),this.blockSize>s-i&&(e=2,this.additionalByteOffset=MDF.ab2uint16(t,s,n),s+=e),this.pCCBlock&&(this.ccBlock=new CCBlock(t,this.pCCBlock,n,this)),this.pCEBlock&&(this.ceBlock=new CEBlock(t,this.pCEBlock,n,this)),this.pCDBlock&&(this.cdBlock=new CDBlock(t,this.pCDBlock,n,this)),this.pComment&&(this.comment=new TXBlock(t,this.pComment,n,this)),this.readRawData=function(t){if(this.isUint()){var i=this.byteOffset(),n=this.bitOffset(),e=0==this.isDefaultByteOrder()?this.isLittleEndian():t,s=Math.ceil((n+this.numberOfBits)/8),a=255>>>(8-(n+this.numberOfBits)%8)%8;if(0==n)switch(this.numberOfBits){case 8:return function(t,n){var e=n+i;return MDF.ab2uint8(t,e)};case 16:return function(t,n){var s=n+i;return MDF.ab2uint16(t,s,e)};case 32:return function(t,n){var s=n+i;return MDF.ab2uint32(t,s,e)};case 64:return function(t,n){var s=n+i;return MDF.ab2uint64(t,s,e)};default:if(this.numberOfBits<8)return function(t,n){var e=n+i;return a&MDF.ab2uint8(t,e)}}return 0==e?function(t,e){var r,l=e+i,o=MDF.ab2bytes(t,l,s),h=0,u=o.length-1;for(r=0;r<o.length-1;r++)h+=o[u]*Math.pow(2,8*r-n),u--;var c=o[u]&a;return h+=c*Math.pow(2,8*r-n)}:function(t,e){var r,l=e+i,o=MDF.ab2bytes(t,l,s),h=0;for(r=0;r<o.length-1;r++)h+=o[r]*Math.pow(2,8*r-n);var u=o[r]&a;return h+=u*Math.pow(2,8*r-n)}}if(this.isInt()){var i=this.byteOffset(),n=this.bitOffset(),e=0==this.isDefaultByteOrder()?this.isLittleEndian():t,s=Math.ceil((this.bitOffset()+this.numberOfBits)/8),a=255>>>(8-(this.bitOffset()+this.numberOfBits)%8)%8;if(0==n)switch(this.numberOfBits){case 8:return function(t,n){var e=n+i;return MDF.ab2int8(t,e)};case 16:return function(t,n){var s=n+i;return MDF.ab2int16(t,s,e)};case 32:return function(t,n){var s=n+i;return MDF.ab2int32(t,s,e)};case 64:return function(t,n){var s=n+i;return MDF.ab2int64(t,s,e)};default:if(this.numberOfBits<8)return function(t,n){var e=n+i,s=a&MDF.ab2uint8(t,e),r=(a^a>>>1)&s,l=0==r?s:s-a-1;return l}}return 0==e?function(t,e){var r,l=e+i,o=MDF.ab2bytes(t,l,s),h=0,u=o.length-1;for(r=0;r<o.length-1;r++)h+=o[u]*Math.pow(2,8*r-n),u--;var c=o[u]&a,f=(a^a>>>1)&c,p=0==f?c:c-a-1;return h+=p*Math.pow(2,8*r-n)}:function(t,e){var r,l=e+i,o=MDF.ab2bytes(t,l,s),h=0;for(r=0;r<o.length-1;r++)h+=o[r]*Math.pow(2,8*r-n);var u=o[r]&a,c=(a^a>>>1)&u,f=0==c?u:u-a-1;return h+=f*Math.pow(2,8*r-n)}}if(this.isFloat()){var i=this.byteOffset(),e=0==this.isDefaultByteOrder()?this.isLittleEndian():t;return function(t,n){var s=n+i;return MDF.ab2float(t,s,e)}}if(this.isDouble()){var i=this.byteOffset(),e=0==this.isDefaultByteOrder()?this.isLittleEndian():t;return function(t,n){var s=n+i;return MDF.ab2double(t,s,e)}}if(this.isString()){var i=this.byteOffset(),r=this.numberOfBits/8;return function(t,n){var e=n+i;return MDF.ab2str(t,e,r)}}if(this.isByteArray()){var i=this.byteOffset(),r=this.numberOfBits/8;return function(t,n){var e=n+i;return MDF.ab2bytes(t,e,r)}}return this.readRawData}.call(this,n)},CNBlock.prototype.isTimeChannel=function(){var t=null;return null!=this.channelType&&(t=1==this.channelType),t},CNBlock.prototype.byteOffset=function(){var t=parseInt(this.startOffsetInBits/8);return null!=this.additionalByteOffset&&(t+=this.additionalByteOffset),t},CNBlock.prototype.bitOffset=function(){var t=this.startOffsetInBits%8;return t},CNBlock.prototype.isUint=function(){var t=null;return null!=this.signalDataType&&(t=0==this.signalDataType||9==this.signalDataType||13==this.signalDataType),t},CNBlock.prototype.isInt=function(){var t=null;return null!=this.signalDataType&&(t=1==this.signalDataType||10==this.signalDataType||14==this.signalDataType),t},CNBlock.prototype.isFloat=function(){var t=null;return null!=this.signalDataType&&(t=2==this.signalDataType||11==this.signalDataType||15==this.signalDataType),t},CNBlock.prototype.isDouble=function(){var t=null;return null!=this.signalDataType&&(t=3==this.signalDataType||12==this.signalDataType||16==this.signalDataType),t},CNBlock.prototype.isString=function(){var t=null;return null!=this.signalDataType&&(t=7==this.signalDataType),t},CNBlock.prototype.isByteArray=function(){var t=null;return null!=this.signalDataType&&(t=8==this.signalDataType),t},CNBlock.prototype.isDefaultByteOrder=function(){var t=null;return null!=this.signalDataType&&(t=0==this.signalDataType||1==this.signalDataType||2==this.signalDataType||3==this.signalDataType),t},CNBlock.prototype.isBigEndian=function(){var t=null;return 9==this.signalDataType||10==this.signalDataType||11==this.signalDataType||12==this.signalDataType?t=!0:(13==this.signalDataType||14==this.signalDataType||15==this.signalDataType||16==this.signalDataType)&&(t=!1),t},CNBlock.prototype.isLittleEndian=function(){var t=null;return 9==this.signalDataType||10==this.signalDataType||11==this.signalDataType||12==this.signalDataType?t=!1:(13==this.signalDataType||14==this.signalDataType||15==this.signalDataType||16==this.signalDataType)&&(t=!0),t},CNBlock.prototype.readRawData=function(t,i){return null},CNBlock.prototype.pushRawData=function(t,i){var n=this.readRawData(t,i),e=this.rawDataArray.push(n);return e},CNBlock.prototype.getPhysicalDataArray=function(){return this.ccBlock.convertAll(this.rawDataArray)},DGBlock=function(t,i,n,e){this.blockTypeIdentifier=null,this.blockSize=null,this.pNextDGBlock=null,this.pFirstCGBlock=null,this.pTRBlock=null,this.pDataBlock=null,this.numberOfChannelGroups=null,this.numberOfRecordIDs=null,this.pThisBlock=i,this.parent=e,this.trBlock=null,this.cgBlocks=[],this.initiallize(t,i,n)},DGBlock.prototype.initiallize=function(t,i,n){var e,s=i;e=2,this.blockTypeIdentifier=MDF.ab2str(t,s,e),s+=e,e=2,this.blockSize=MDF.ab2uint16(t,s,n),s+=e,e=4,this.pNextDGBlock=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pFirstCGBlock=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pTRBlock=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pDataBlock=MDF.ab2uint32(t,s,n),s+=e,e=2,this.numberOfChannelGroups=MDF.ab2uint16(t,s,n),s+=e,e=2,this.numberOfRecordIDs=MDF.ab2uint16(t,s,n),s+=e,this.setCGBlocks(t,this.pFirstCGBlock,n),this.setTRBlock(t,this.pTRBlock,n)},DGBlock.prototype.setCGBlocks=function(t,i,n){for(var e=i;e;){var s=new CGBlock(t,e,n,this);this.cgBlocks.push(s),e=s.pNextCGBlock}},DGBlock.prototype.setTRBlock=function(t,i,n){i&&(this.trBlock=new TRBlock(t,i,n,this))},DGBlock.prototype.isSorted=function(){return 1==this.cgBlocks.length},DGBlock.prototype.readDataBlock=function(t,i){var n=this.pDataBlock;if(n)if(0==this.isSorted())for(var e=new Array(this.cgBlocks.length).fill(0);;){for(var s=0,a=MDF.ab2uint8(t,n),r=0;r<this.cgBlocks.length;r++)if(this.cgBlocks[r].recordID==a){s=r;break}var l=this.cgBlocks[s];n+=1;for(var r=0;r<l.cnBlocks.length;r++){var o=l.cnBlocks[r];o.rawDataArray[e[s]]=o.readRawData(t,n)}n+=l.sizeOfDataRecord,this.numberOfRecordIDs>=2&&(n+=1),e[s]++;for(var h=!0,r=0;r<this.cgBlocks.length;r++)if(e[r]<this.cgBlocks[r].numberOfRecords){h=!1;break}if(h)break}else for(var l=this.cgBlocks[0],u=0;u<l.numberOfRecords;u++){this.numberOfRecordIDs>0&&(n+=1);for(var r=0;r<l.cnBlocks.length;r++){var o=l.cnBlocks[r];o.rawDataArray[u]=o.readRawData(t,n)}n+=l.sizeOfDataRecord,this.numberOfRecordIDs>=2&&(n+=1)}},DGBlock.prototype.readDataBlockAt=function(t,i,n){var e=i[0],s=this.cgBlocks[e],a=i[1],r=s.cnBlocks[a];return this.readDataBlockOf(t,r,n),r},DGBlock.prototype.readDataBlockOf=function(t,i,n){var e=this.pDataBlock,s=i.parent;if(e)if(0==this.isSorted()){for(var a=i.rawDataArray.length?i.rawDataArray.length:0,r=0;a>r;){var l=MDF.ab2uint8(t,e);e+=1,s.recordID==l&&r++,e+=s.sizeOfDataRecord,this.numberOfRecordIDs>=2&&(e+=1)}for(;r<s.numberOfRecords;){var l=MDF.ab2uint8(t,e);e+=1,s.recordID==l&&(i.pushRawData(t,e),r++),e+=s.sizeOfDataRecord,this.numberOfRecordIDs>=2&&(e+=1)}}else{for(var a=i.rawDataArray.length?i.rawDataArray.length:0,r=0;a>r;r++)this.numberOfRecordIDs>0&&(e+=1),e+=s.sizeOfDataRecord,this.numberOfRecordIDs>=2&&(e+=1);for(;r<s.numberOfRecords;r++)this.numberOfRecordIDs>0&&(e+=1),i.pushRawData(t,e),e+=s.sizeOfDataRecord,this.numberOfRecordIDs>=2&&(e+=1)}return i},HDBlock=function(t,i,n,e){this.blockTypeIdentifier=null,this.blockSize=null,this.pFirstDGBlock=null,this.pFileComment=null,this.pPRBlock=null,this.numberOfDataGroups=null,this.date=null,this.time=null,this.authorName=null,this.organizationName=null,this.projectName=null,this.subject=null,this.timeStamp=null,this.UTCTimeOffset=null,this.timeQualityClass=null,this.timerIdentification=null,this.pThisBlock=i,this.parent=e,this.fileComment=null,this.prBlock=null,this.initiallize(t,i,n)},HDBlock.prototype.initiallize=function(t,i,n){var e,s=i;e=2,this.blockTypeIdentifier=MDF.ab2str(t,s,e),s+=e,e=2,this.blockSize=MDF.ab2uint16(t,s,n),s+=e,e=4,this.pFirstDGBlock=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pFileComment=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pPRBlock=MDF.ab2uint32(t,s,n),s+=e,e=2,this.numberOfDataGroups=MDF.ab2uint16(t,s,n),s+=e,e=10,this.date=MDF.ab2str(t,s,e),s+=e,e=8,this.time=MDF.ab2str(t,s,e),s+=e,e=32,this.authorName=MDF.ab2str(t,s,e),s+=e,e=32,this.organizationName=MDF.ab2str(t,s,e),s+=e,e=32,this.projectName=MDF.ab2str(t,s,e),s+=e,e=32,this.subject=MDF.ab2str(t,s,e),s+=e,this.blockSize>s-i&&(e=8,this.timeStamp=MDF.ab2uint64(t,s,n),s+=e),this.blockSize>s-i&&(e=2,this.UTCTimeOffset=MDF.ab2int16(t,s,n),s+=e),this.blockSize>s-i&&(e=2,this.timeQualityClass=MDF.ab2uint16(t,s,n),s+=e),this.blockSize>s-i&&(e=32,this.timerIdentification=MDF.ab2str(t,s,e),s+=e),this.pFileComment&&(this.fileComment=new TXBlock(t,this.pFileComment,n,this)),this.pPRBlock&&(this.prBlock=new PRBlock(t,this.pPRBlock,n,this))},IDBlock=function(t,i,n){this.fileIdentifier=null,this.formatIdentifier=null,this.programIdentifier=null,this.defaultByteOrder=null,this.defaultFloatingPointFormat=null,this.versionNumber=null,this.codePageNumber=null,this.standardFlags=null,this.customFlags=null,this.pThisBlock=i,this.parent=n,this.initiallize(t,i)},IDBlock.prototype.initiallize=function(t,i){var n,e=i;n=8,this.fileIdentifier=MDF.ab2str(t,e,n),e+=n,n=8,this.formatIdentifier=MDF.ab2str(t,e,n),e+=n,n=8,this.programIdentifier=MDF.ab2str(t,e,n),e+=n,n=2,this.defaultByteOrder=MDF.ab2uint16(t,e,!0),e+=n;var s=0==this.defaultByteOrder;n=2,this.defaultFloatingPointFormat=MDF.ab2uint16(t,e,s),e+=n,n=2,this.versionNumber=MDF.ab2uint16(t,e,s),e+=n,n=2,this.codePageNumber=MDF.ab2uint16(t,e,s),e+=n,n=2,e+=n,n=26,e+=n,n=2,this.standardFlags=MDF.ab2uint16(t,e,s),e+=n,n=2,this.customFlags=MDF.ab2uint16(t,e,s),e+=n},IDBlock.prototype.isLittleEndian=function(){var t=null;return this&&null!=this.defaultByteOrder&&(t=0==this.defaultByteOrder),t},PRBlock=function(t,i,n,e){this.blockTypeIdentifier=null,this.blockSize=null,this.programSpecificData=null,this.pThisBlock=i,this.parent=e,this.initiallize(t,i,n)},PRBlock.prototype.initiallize=function(t,i,n){var e,s=i;e=2,this.blockTypeIdentifier=MDF.ab2str(t,s,e),s+=e,e=2,this.blockSize=MDF.ab2uint16(t,s,n),s+=e,e=this.blockSize-(s-i),this.programSpecificData=MDF.ab2str(t,s,e),s+=e},SRBlock=function(t,i,n,e){this.blockTypeIdentifier=null,this.blockSize=null,this.pNextSRBlock=null,this.pDataBlock=null,this.numberOfReducedSamples=null,this.lengthOfTimeInterval=null,this.pThisBlock=i,this.parent=e,this.initiallize(t,i,n)},SRBlock.prototype.initiallize=function(t,i,n){var e,s=i;e=2,this.blockTypeIdentifier=MDF.ab2str(t,s,e),s+=e,e=2,this.blockSize=MDF.ab2uint16(t,s,n),s+=e,e=4,this.pNextSRBlock=MDF.ab2uint32(t,s,n),s+=e,e=4,this.pDataBlock=MDF.ab2uint32(t,s,n),s+=e,e=4,this.numberOfReducedSamples=MDF.ab2uint32(t,s,n),s+=e,e=8,this.lengthOfTimeInterval=MDF.ab2double(t,s,n),s+=e},TRBlock=function(t,i,n,e){this.blockTypeIdentifier=null,this.blockSize=null,this.pTriggerComment=null,this.numberOfTriggerEvents=null,this.triggerTimes=[],this.preTriggerTimes=[],this.postTriggerTimes=[],this.triggerComment=null,this.pThisBlock=i,this.parent=e,this.initiallize(t,i,n)},TRBlock.prototype.initiallize=function(t,i,n){var e,s=i;e=2,this.blockTypeIdentifier=MDF.ab2str(t,s,e),s+=e,e=2,this.blockSize=MDF.ab2uint16(t,s,n),s+=e,e=4,this.pTriggerComment=MDF.ab2uint32(t,s,n),s+=e,e=2,this.numberOfTriggerEvents=MDF.ab2uint16(t,s,n),s+=e,this.triggerTimes=new Array(this.numberOfTriggerEvents),this.preTriggerTimes=new Array(this.numberOfTriggerEvents),this.postTriggerTimes=new Array(this.numberOfTriggerEvents);for(var a=0;a<this.numberOfTriggerEvents&&!(s-i>=this.blockSize);a++)e=4,this.triggerTimes[a]=MDF.ab2double(t,s,n),s+=e,e=4,this.preTriggerTimes[a]=MDF.ab2double(t,s,n),s+=e,e=4,this.postTriggerTimes[a]=MDF.ab2double(t,s,n),s+=e;this.setTriggerComment(t,this.pTriggerComment,n)},TRBlock.prototype.setTriggerComment=function(t,i,n){i&&(this.triggerComment=new TXBlock(t,i,n,this))},TXBlock=function(t,i,n,e){this.blockTypeIdentifier=null,this.blockSize=null,this.text=null,this.pThisBlock=i,this.parent=e,this.initiallize(t,i,n)},TXBlock.prototype.initiallize=function(t,i,n){var e,s=i;e=2,this.blockTypeIdentifier=MDF.ab2str(t,s,e),s+=e,e=2,this.blockSize=MDF.ab2uint16(t,s,n),s+=e,e=this.blockSize-(s-i),this.text=MDF.ab2str(t,s,e),s+=e},MDF=function(t,i){this.idBlock=null,this.hdBlock=null,this.dgBlocks=[],this.arrayBuffer=null,this.initiallize(t),0!=i?this.readDataBlocks(t):this.arrayBuffer=t},MDF.ab2bytes=function(t,i,n){var e=new Uint8Array(t,i,n);return e},MDF.ab2str=function(t,i,n){var e=new Uint8Array(t,i,n),s=String.fromCharCode.apply(null,e);return s.split("\x00")[0]},MDF.ab2uint8=function(t,i){var n=new DataView(t,i,1);return n.getUint8(0)},MDF.ab2int8=function(t,i){var n=new DataView(t,i,1);return n.getInt8(0)},MDF.ab2uint16=function(t,i,n){var e=new DataView(t,i,2);return e.getUint16(0,n)},MDF.ab2int16=function(t,i,n){var e=new DataView(t,i,2);return e.getInt16(0,n)},MDF.ab2uint32=function(t,i,n){var e=new DataView(t,i,4);return e.getUint32(0,n)},MDF.ab2int32=function(t,i,n){var e=new DataView(t,i,4);return e.getInt32(0,n)},MDF.ab2uint64=function(t,i,n){var e=new DataView(t,i,8),s=e.getUint32(0,n),a=e.getUint32(4,n);return n?s+4294967296*a:a+4294967296*s},MDF.ab2int64=function(t,i,n){var e,s=new DataView(t,i,8);if(n){var a=s.getUint32(0,n),r=s.getInt32(4,n);e=a+4294967296*r}else{var l=s.getInt32(0,n),o=s.getUint32(4,n);e=o+4294967296*l}return e},MDF.ab2bool=function(t,i,n){var e=new DataView(t,i,2);return 0!=e.getUint16(0,n)},MDF.ab2float=function(t,i,n){var e=new DataView(t,i,4);return e.getFloat32(0,n)},MDF.ab2double=function(t,i,n){var e=new DataView(t,i,8);return e.getFloat64(0,n)},MDF.str2u8arr=function(t){for(var i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i},MDF.prototype.initiallize=function(t){var i=0;this.idBlock=new IDBlock(t,i,this);var n=this.idBlock.isLittleEndian();i=64,this.hdBlock=new HDBlock(t,i,n,this),i=this.hdBlock.pFirstDGBlock,this.setDGBlocks(t,i,n)},MDF.prototype.setDGBlocks=function(t,i,n){for(var e=i;e;){var s=new DGBlock(t,e,n,this);this.dgBlocks.push(s),e=s.pNextDGBlock}},MDF.prototype.readDataBlocks=function(t){if(t)for(var i=this.idBlock.isLittleEndian(),n=0;n<this.dgBlocks.length;n++){var e=this.dgBlocks[n];e.readDataBlock(t,i)}else this.arrayBuffer&&this.readDataBlocks(this.arrayBuffer)},MDF.prototype.readDataBlockAt=function(t,i){if(i){var n=this.idBlock.isLittleEndian(),e=t[0],s=this.dgBlocks[e],a=s.readDataBlockAt(i,t.slice(1),n);return a}return this.arrayBuffer?this.readDataBlockAt(t,this.arrayBuffer):null},MDF.prototype.readDataBlockOf=function(t,i){if(i){var n=this.idBlock.isLittleEndian(),e=t.parent.parent;return e.readDataBlockOf(i,t,n),t}return this.arrayBuffer?this.readDataBlockOf(t,this.arrayBuffer):null},MDF.prototype.searchIndexesIf=function(t){for(var i=[],n=0;n<this.dgBlocks.length;n++)for(var e=this.dgBlocks[n],s=0;s<e.cgBlocks.length;s++)for(var a=e.cgBlocks[s],r=0;r<a.cnBlocks.length;r++){var l=a.cnBlocks[r];t(l,a,e,r,s,n)&&i.push([n,s,r,l])}return i},MDF.prototype.searchChannelsIf=function(t){for(var i=this.searchIndexesIf(t),n=[],e=0;e<i.length;e++){var s=i[e];n.push(this.dgBlocks[s[0]].cgBlocks[s[1]].cnBlocks[s[2]])}return n},MDF.prototype.searchIndexesByRegExp=function(t){var i=function(t,i){return-1!=i.shortSignalName.search(t)}.bind(this,t),n=this.searchIndexesIf(i);return n},MDF.prototype.searchChannelsByRegExp=function(t){var i=function(t,i){return-1!=i.shortSignalName.search(t)}.bind(this,t),n=this.searchChannelsIf(i);return n};